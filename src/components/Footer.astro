---
import { githubLink, instagramLink, linkedinLink } from '@lib/constants';
import { Icon } from 'astro-icon/components';
---

<footer id="footer" class="content-container tracking-wider pt-8 text-center md:text-left mt-20" transition:persist>
  <hr class="my-2" />
  <div class="flex flex-col flex-wrap md:flex-row md:flex-nowrap md:items-center lg:items-start py-2 mx-4 md:mx-14">
    <div class="m-6 flex flex-grow md:mt-0 md:pl-20">
      <div class="w-full p-4 px-4 md:w-1/2 lg:w-1/2">
        <div class="social-links flex flex-col gap-4 text-white">
          <a class="flex gap-4 items-center" href="https://github.com/ACE-NMAMIT" target="_blank">
            <Icon name="mdi:github" size={30} />
            <span>GitHub</span>
          </a>
          <a class="flex gap-4 items-center" href="https://www.linkedin.com/company/acenmamit/" target="_blank">
            <Icon name="mdi:linkedin" size={30} />
            <span>LinkedIn</span>
          </a>
          <a class="flex gap-4 items-center" href="https://www.instagram.com/ace_nmamit/" target="_blank">
            <Icon name="mdi:instagram" size={30} />
            <span>Instagram</span>
          </a>
        </div>
      </div>
    </div>

    <div class="mx-4 md:mx-10 flex flex-shrink-0 flex-col gap-2 text-white md:w-1/3 md:items-start">
      <b class="pt-4">ACE</b>
      <p>Department of CSE</p>
      <p>NMAM Institute of Technology, Nitte, Karkala Taluk, Udupi-574110 Karnataka, India</p>
    </div>
  </div>
  <hr class="my-2" />
  <div class="text-white flex justify-between flex-col md:flex-row my-4 mx-4 md:mx-14">
    <p class="px-2 md:px-5 py-2 md:py-5 text-center md:text-start">
      ACE Â© {new Date().getFullYear()}
    </p>
    <img src="/images/top-button.svg" alt="top" class="w-12 md:w-auto mx-auto md:mx-0 scrollTop cursor-pointer" />
  </div>
</footer>

<div class="torch relative w-full h-fit hidden md:block mb-4">
  <img src="/images/aceweb2.png" alt="ACE" class="object-center torch-img w-full md:w-auto mx-auto object-fill pointer-events-none" />
</div>

<style>
  .torch {
    --x: 0%;
    --y: 0%;
    --radius: 100px;
    --mask-color: rgba(255, 0, 0, 0.045);
    mask-image: radial-gradient(circle at 0 0, rgba(19, 21, 26, 0.95) 0, var(--mask-color) 20%);
    mask-size: cover;
  }
  .torch:hover {
    mask-image: radial-gradient(
      circle at var(--x) var(--y),
      rgba(192, 131, 0, 0.95) var(--radius),
      var(--mask-color)  calc(var(--radius) + var(--radius) / 2)
    );
    cursor: url('/images/torch.png'), auto;
  }
  .torch img {
    mask-image: repeating-linear-gradient(
      180deg,
      rgba(0, 0, 0, 1) 0,
      rgba(0, 0, 0, 1) 10px,
      rgba(0, 0, 0, 0) 10px,
      rgba(0, 0, 0, 0) 20px
    );
  }

  @media (max-width: 768px) {
    .mx-14 {
      margin-left: 1rem;
      margin-right: 1rem;
    }
    .md:pl-20 {
      padding-left: 1rem;
    }
    /* Center social links */
    .social-links {
      align-items: center;
    }
  }

  @media (max-width: 480px) {
    .text-white {
      font-size: 0.85rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelector(".scrollTop")?.addEventListener("click",()=>{
      window.scrollTo({top:0,behavior:"smooth"});
    })
    const torchDiv = document.querySelector<HTMLDivElement>('.torch');
    torchDiv?.addEventListener('mousemove', (e) => {
      const xPercentage = Math.round((e.offsetX / torchDiv.getBoundingClientRect().width) * 100);
      const yPercentage = Math.round((e.offsetY / torchDiv.getBoundingClientRect().height) * 100);
      torchDiv.style.setProperty('--x', `${xPercentage}%`);
      torchDiv.style.setProperty('--y', `${yPercentage}%`);
    });
  });
</script>
